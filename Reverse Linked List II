class Solution {
public:
    ListNode* reverseBetween(ListNode* head, int left, int right) {
        if(!head or left == right) return head;

        ListNode* dummy = new ListNode(0);
        dummy -> next = head;
        ListNode* prev = dummy;

        for(int i(0);i < left - 1;i++) prev = prev -> next;

        ListNode* cur = prev -> next;
        for(int i(0);i < right - left;i++){
            ListNode* x = cur -> next;
            cur -> next = x -> next;

            x -> next = prev -> next;
            prev -> next = x;
        }

        return dummy -> next;
    }
};
